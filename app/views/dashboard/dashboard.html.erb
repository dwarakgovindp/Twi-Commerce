<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<title></title>
<style>
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}    
    
@font-face{
font-family:"sansation";
src: url("Sansation-Regular.ttf") format(truetype);
}
ul
{
    list-style: none;
}

ul li
{
    border-right: 1px solid #ffe35f;
}
    
body
{
    font-family: "sansation";
}
header
{
    font-family: "sansation";
    text-align: center;
    font-size: 40px;
    margin: 0px auto;
    margin-top: 15px;
}
footer
{
    position:fixed;
    bottom:5px;
    border-top : 1px solid #ffe35f;
    width: 100%;
    background-color: white;
}
footer div
{
    margin: 0px auto;
}
img
{
    margin: 0px auto;
    display: block;
}
::-webkit-scrollbar
{
	width: 4px;

}
::-webkit-scrollbar-track{
	border-radius: 2px;
}
::-webkit-scrollbar-thumb{
	border-radius: 2px;
	background-color: #ffe35f;
}
.cont
    {
        width: 100%;
        border-bottom: 1px solid #000;
    }
.conttop
    {
        height: 70px;
        margin-top: 10px;
    }
.conttopleft,.conttopright,.conttopmiddle,.contact
    {
        display: inline-block;
        vertical-align: middle;
        margin-left: 10px;
    }
 .conttopleft img
    {
        width: 48px;
        display: block;
        border-radius:10%; 
    }
 
#que
{
    color:#ffe35f;
}
#headerwrapper
{
    height: 50px;
    margin-top:10px;
}
#items
{
    height: inherit;
    margin: 0px auto;
    width: 1000px;
}
#container
{
	
    width: 1000px;
    margin: 0 auto;
    height: 350px;
    overflow-y:auto;
    padding: 10px;
}
#items div
{
    line-height: 50px;
    width: 16%;
    text-align:center;
    height: inherit;
    display: inline-block;
    -webkit-transition: all 0.4s;
    border:1px solid #ffe35f;
}
#items div:hover
{
    cursor: pointer;
    background-color: #ffe35f;
}
#containerleft
    {
        padding: 5px;
        width: 48%;
        display: inline-block;
        
    }
#containerright
    {
        padding: 5px;
        width: 48%;
        display: inline-block;
    }
  .contmiddle img
  {
  	width: 130px;
  }
.buy
    {
        background: white;
        border: 1px solid #ffe35f;
        font-family: "sansation";
        outline: none;
        display: block;
        margin:10px;
    }
.buy:hover
{
	background-color: #ffe35f;
	cursor: pointer;
}
  .prodspec,.prodprice,.posttime
  {
  	margin-top: 10px;
  	margin-left: 20px;
  	margin-right: 20px;
  	display: block;
  }
  .contbottom
  {
  	margin:0 auto;
  }
</style>
</head>
<body>
<script type="text/javascript">
function delchilds(id)
{
	var rangeobj = new Range();
	rangeobj.selectNodeContents(document.getElementById(id));
	rangeobj.deleteContents();
}
function appendchilds(resp)
{
	for(var i=0;i<resp.length;i++)
	{
		var conttop = document.createElement("div");
		conttop.className = "conttop";
		var conttopmiddle = document.createElement("div");
		conttopmiddle.className = "conttopmiddle";
		conttopmiddle.innerHTML = "@"+resp[i].twitter_handle;
		var conttopright = document.createElement("div");
		conttopright.className = "conttopright";
		conttopright.innerHTML = resp[i].country;
		var contact = document.createElement("div");
		contact.className = "contact";
		contact.innerHTML = resp[i].phone;
		var conttopleft = document.createElement("div");
		conttopleft.className = "conttopleft";

		var handleimage = document.createElement("img");
		handleimage.src = resp[i].img;
		conttopleft.appendChild(handleimage);
		conttop.appendChild(conttopleft);
		conttop.appendChild(conttopmiddle);
		conttop.appendChild(conttopright);
		conttop.appendChild(contact);
		var contmiddle = document.createElement("div");
		contmiddle.className = "contmiddle";
		console.log(resp[i].prod_img);
		if(resp[i].prod_img!=="NULL")
		{
		var prodimage = document.createElement("img");
		prodimage.src = resp[i].prod_img;
		contmiddle.appendChild(prodimage);	
		}
		
		var contbottom = document.createElement("div");
		contbottom.className = "contbottom";
		var prodspec,prodprice,posttime,contact,buy;
		prodspec = document.createElement("span");
		prodspec.className = "prodspec";
		contact = document.createElement("span");
		contact.className = "contact";
		prodspec.innerHTML = resp[i].spec;
		prodprice = document.createElement("span");
		prodprice.className = "prodprice";
		prodprice.innerHTML = "Rs."+resp[i].quoted_price;
		posttime = document.createElement("span");
		posttime.className = "posttime"
		posttime.innerHTML = resp[i].posted_at+" ago";
		var buy = document.createElement("button");
		buy.className ="buy";
		buy.innerHTML = "Tweet to seller";
		buy.id = resp[i].post_id;
		contbottom.appendChild(prodspec);
		contbottom.appendChild(prodprice);
		contbottom.appendChild(posttime);
		contbottom.appendChild(contact);
		contbottom.appendChild(buy);
		var cont = document.createElement("div");
		cont.className = "cont";
		cont.appendChild(conttop);
		cont.appendChild(contmiddle);
		cont.appendChild(contbottom);
		document.getElementById("container").appendChild(cont);
		// if(i%2==0)
		// {
		// 	document.getElementById("containerleft").appendChild(cont);
		// }
		// else
		// {
		// 	document.getElementById("containerright").appendChild(cont);
			
		// }

	}
}

	$(document).ready(function(){
		$('.cate').click(function(){
			$('.cate').css({"background-color":"#fff"});
			$(this).css({"background-color":"#ffe35f"});
			$.ajax({
				method:"GET",
				url:"http://localhost:3000/fetch_posts",
				data: {category: $(this).text()}
			}).success(function(resp){
				
				delchilds("container");
				console.log(resp);
				appendchilds(resp);
			});
		});

		$(document).on("click",".buy",function(){

			$.ajax({
				method:"GET",
				url:"http://localhost:3000/tweet/seller",
				data:{post_id:$(this).attr('id')}
			}).success(function(){


			});
		});

	});
</script>


<header>
    Your twinterests<span id="que">?</span>
</header>
    <div id="headerwrapper">
        <div id="items">
            <div class="cate">Camera</div>
            <div class="cate">Laptop</div>
            <div class="cate">Desktop</div>
            <div class="cate">Mobile</div>
            <div class="cate">Bike</div>
            <div class="cate">Car</div>
        </ul>
    </div>
  <!--  twitterhandle country img prodimage spec quoted price categ posted at post id <div style="display:inline-block;">
    <img src="bird.png" width="100" />
    <img src="cart.png" width="75" />
    </div>-->
    <div id="container">
        <!-- <div id="containerleft"> -->
            <!-- <div class="cont">
                <div class="conttop">
                    <div class="conttopleft">
                        <img  class="handleimage"/>
                    </div>
                    <div class="conttopmiddle">
                        prassi
                    </div>
                    <div class="conttopright">
                        iNIDA
                    </div>
                    
                </div>
                <div class="contmiddle">
                    <img  class="prodimage"/>
                </div>
                <div class="contbottom">
                    <span class="prodspec">Lenovo G580</span>
                    <span class="prodprice">34500</span>
                    <span class="posttime">12 hrs ago</span>
                    <button class="buy">Tweet</button>
                </div>
                
            </div> -->
        <!-- </div>
        <div id ="containerright"> -->
            <!-- <div class="cont">
                <div class="conttop">
                    <div class="conttopleft">
                        <img  class="handleimage"/>
                    </div>
                    <div class="conttopmiddle">
                        prassi
                    </div>
                    <div class="conttopright">
                        iNIDA
                    </div>
                    
                </div>
                <div class="contmiddle">
                    <img  class="prodimage"/>
                </div>
                <div class="contbottom">
                    <span class="prodspec">Lenovo G580</span>
                    <span class="prodprice">34500</span>
                    <span class="posttime">12 hrs ago</span>
                    <button class="buy">Tweet</button>
                </div>
                
            </div> -->
        <!-- </div> -->
         
    </div>
<footer>
    <div>
    <img src="twicommerceicon.png" width="150" />
    </div>
</footer>
</body>
</html>